---
import '../styles/global.css';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';

interface Props {
  title: string;
  description: string;
  keywords?: string;
  canonicalUrl?: string;
  ogTitle?: string;
  ogDescription?: string;
  ogImage?: string;
  author?: string;
  datePublished?: string;
  dateModified?: string;
  robots?: string;
}

const {
  title,
  description,
  keywords = '',
  canonicalUrl = '',
  ogTitle = title,
  ogDescription = description,
  ogImage = 'https://simpleseniorfitness.com/images/og-default.jpg',
  author = 'Simple Senior Fitness',
  datePublished = new Date().toISOString().split('T')[0],
  dateModified = new Date().toISOString().split('T')[0],
  robots = 'index, follow',
} = Astro.props;

const siteUrl = 'https://simpleseniorfitness.com';
const siteName = 'Simple Senior Fitness';
---

<!DOCTYPE html>
<html class="light" lang="en">
<head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <title>{title}</title>
  <meta name="description" content={description}/>
  {keywords && <meta name="keywords" content={keywords}/>}
  {canonicalUrl && <link rel="canonical" href={canonicalUrl}/>}
  <meta name="robots" content={robots}/>
  <meta name="author" content={author}/>

  <!-- Favicon -->
  <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96"/>
  <link rel="icon" type="image/svg+xml" href="/favicon.svg"/>
  <link rel="shortcut icon" href="/favicon.ico"/>
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"/>
  <link rel="manifest" href="/site.webmanifest"/>

  <!-- Open Graph -->
  <meta property="og:title" content={ogTitle}/>
  <meta property="og:description" content={ogDescription}/>
  <meta property="og:type" content="article"/>
  <meta property="og:image" content={ogImage}/>
  <meta property="og:url" content={canonicalUrl || siteUrl}/>
  <meta property="og:site_name" content={siteName}/>
  <meta property="og:locale" content="en_US"/>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com" rel="preconnect"/>
  <link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
  <link href="https://fonts.googleapis.com/css2?family=Atkinson+Hyperlegible:ital,wght@0,400;0,700;1,400;1,700&family=Poppins:ital,wght@0,400;0,500;0,600;0,700;1,400&display=swap" rel="stylesheet"/>
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap" rel="stylesheet"/>

  <!-- Schema.org structured data -->
  <script is:inline type="application/ld+json" set:html={JSON.stringify({
    "@context": "https://schema.org",
    "@type": "Article",
    "headline": title,
    "description": description,
    "author": {
      "@type": author.startsWith('Dr.') ? 'Person' : 'Organization',
      "name": author
    },
    "publisher": {
      "@type": "Organization",
      "name": "Simple Senior Fitness"
    },
    "datePublished": datePublished,
    "dateModified": dateModified
  })}/>

  <style is:global>
    ::-webkit-scrollbar {
      width: 6px;
    }
    ::-webkit-scrollbar-track {
      background: transparent;
    }
    ::-webkit-scrollbar-thumb {
      background-color: rgba(0,0,0,0.1);
      border-radius: 20px;
    }
    .dark ::-webkit-scrollbar-thumb {
      background-color: rgba(255,255,255,0.1);
    }
    html {
      scroll-behavior: smooth;
    }
    body {
      min-height: max(884px, 100dvh);
    }
    /* Focus styles for keyboard navigation */
    :focus-visible {
      outline: 2px solid #08f7b3;
      outline-offset: 2px;
    }
    :focus:not(:focus-visible) {
      outline: none;
    }
  </style>
</head>
<body class="bg-background-light dark:bg-background-dark font-display text-text-main-light dark:text-text-main-dark transition-colors duration-300 antialiased selection:bg-primary selection:text-background-dark">
  <!-- Skip to main content link for keyboard users -->
  <a href="#main-content" class="sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 focus:z-[100] focus:px-4 focus:py-2 focus:bg-accent-dark focus:text-white focus:rounded-lg focus:font-medium">
    Skip to main content
  </a>
  <div class="relative flex min-h-screen w-full flex-col overflow-x-hidden group/design-root">
    <Header />
    <main id="main-content">
      <slot />
    </main>
    <Footer />
  </div>
</body>
</html>
